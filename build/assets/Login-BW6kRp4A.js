import{r as j,_ as w,R as y,b,c as v,P as l,q as L,v as P,j as s,B as o}from"./index-D-p6wDcO.js";import{b as k,c as p,a as R}from"./index.es-DNtyBPSA.js";import{p as I}from"./Api-CIZUh0t2.js";import{C as u,a as h,b as x,c as C,d as g}from"./CRow-wLF0EoZG.js";import{C as S,a as q,b as G}from"./CForm-B0E60Dj6.js";import{c as T,a as B}from"./cil-user-Dlmw-Gem.js";var m=j.forwardRef(function(e,i){var t=e.children,c=e.className,r=w(e,["children","className"]);return y.createElement("div",b({className:v("card-group",c)},r,{ref:i}),t)});m.propTypes={children:l.node,className:l.string};m.displayName="CCardGroup";const J=()=>{const[e,i]=j.useState({adminName:"",adminPassword:""}),t=L(),c=new P,r=d=>{const{name:n,value:a}=d.target;i(f=>({...f,[n]:a}))},N=async d=>{var n;if(d.preventDefault(),e.adminName===""){o.error("Username is required");return}if(e.adminPassword===""){o.error("Password is required");return}try{const a=await I("admin/login",JSON.stringify({email:e.adminName,password:e.adminPassword}));a.status===200?(o.success((n=a==null?void 0:a.data)==null?void 0:n.message),c.set("AccessToken",a.data.token),t("/dashboard")):o.error("Something went wrong!!")}catch(a){console.error("Login error",a)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(k,{children:s.jsx(u,{className:"justify-content-center",children:s.jsx(h,{md:6,children:s.jsx(m,{children:s.jsx(S,{className:"p-4",children:s.jsx(q,{children:s.jsxs(G,{onSubmit:N,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(x,{className:"mb-3",children:[s.jsx(C,{children:s.jsx(p,{icon:T})}),s.jsx(g,{placeholder:"Username",autoComplete:"username",name:"adminName",value:e.adminName,onChange:r})]}),s.jsxs(x,{className:"mb-4",children:[s.jsx(C,{children:s.jsx(p,{icon:B})}),s.jsx(g,{type:"password",placeholder:"Password",autoComplete:"current-password",name:"adminPassword",value:e.adminPassword,onChange:r})]}),s.jsx(u,{children:s.jsx(h,{xs:6,children:s.jsx(R,{color:"primary",className:"px-4",type:"submit",children:"Login"})})})]})})})})})})})})};export{J as default};
